<%- include('../partials/header.ejs', {user}) %>
<!-- This page is linked by the href in the a tag surrounding the update button on the goal show page -->
<h1>Update <%= goal.name %></h1>

<div class="container">
    <div class="row justify-content-center my-3">
        <div class="col-lg-6"></div>
            <form method="POST" action="/goals/<%= goal.id %>?_method=PUT" name="update-goal">
                <fieldset>
                    <legend>Update Goal</legend>

                <label for="name" class="form-label">Goal name</label>
                <input type="text" class="form-control shadow-sm" id="name" name="name" value="<%= goal.name %>">

                <label for="description" class="form-label"></label>Describe Event</label>
                <textarea 
                    type="text" 
                    class="form-control shadow-sm" 
                    id="description" 
                    name="description"
                    cols="10"
                    rows="5"><%= goal.description %></textarea>

                <label for="dueDate" class="form-label">Due Date</label>
                <input type="date" class="form-control shadow-sm" id="dueDate" name="dueDate" value="<%= goal.due_date %>">

                <p>Choose an image for your goal:</p>
                <%  %> 
                
                <label for="progress">Update goal's progress:</label>
                <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" id="progress" name="progress" form="update-goal">
                    <option selected>Update Progress</option>
                    <option value="Not-Started">Not Started</option>
                    <option value="In-Progress">In Progress</option>
                    <option value="Complete">Complete</option>
                  </select>
                  
                <div class="text-center">
                    <button type="submit" class="btn btn-dark shadow-sm" id="update" name="_method">Update Goal</button>
                </div>
                </fieldset>
            </form>
        </div>
    </div>
</div>
    <%- include('../partials/footer.ejs') %>